<!doctype html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>To-do List</title>
    <link rel="stylesheet" href="./css/reset.css" />
    <link rel="stylesheet" href="./css/base.css" />
    <link rel="stylesheet" href="./css/nickname.css" />
    <link rel="stylesheet" href="./css/media.css" />
    <link rel="stylesheet" href="./css/modal.css" />
    <link rel="stylesheet" href="./css/dark.css" />
  </head>
  <body>
    <div class="container">
      <!-- 메인  -->
      <main class="main-content">
        <!-- 헤더 부분 -->
        <header class="header">
          <div class="greeting">
            <h1>
              <span id="greeting-message">안녕하세요</span>
              <br class="mobile-br" />

              <span class="nickname-container">
                <span class="highlight nickname-text" id="nickname-text"></span>
                <input type="text" class="nickname-input nickname-edit-input" maxlength="12" />
                <span class="suffix">님</span>
              </span>
            </h1>
            <p class="date" id="current-date">날짜 불러오는 중...</p>
          </div>

          <div class="header-actions">
            <button class="icon-btn manual" type="button">
              <img src="./assets/img/icons8-checkmark.svg" alt="메뉴얼" />
            </button>
            <!-- 테마 -->
            <button class="icon-btn theme" id="themeToggle" type="button" aria-label="테마 전환">
              <img src="./assets/img/sun-light.svg" alt="테마" />
            </button>
          </div>
        </header>

        <div class="content-wrap">
          <!-- Total Takes / To Do / In Progress / Done / Achievement -->
          <section class="stats-container">
            <div class="card total">
              <h3>Total Tasks</h3>
              <p class="total-number">0</p>
            </div>
            <div class="card todo">
              <h3>To Do</h3>
              <p class="total-number">0</p>
            </div>
            <div class="card ing">
              <h3>In Progress</h3>
              <p class="total-number">0</p>
            </div>
            <div class="card done">
              <h3>Done</h3>
              <p class="total-number">0</p>
            </div>
            <div class="card achieve">
              <h3>Achievement</h3>
              <p class="total-number">-</p>
            </div>
          </section>

          <!-- 컨트롤러 -->
          <section class="controls">
            <!-- 할 일 검색... -->
            <div class="search-box">
              <input type="text" placeholder="할 일 검색..." />
            </div>

            <!-- 필터 -->
            <div class="filters">
              <!-- 전체 기간 -->
              <div class="filter-dropdown">
                <button class="filter-btn" type="button">
                  <span>전체 기간</span>
                </button>
                <ul class="dropdown-menu">
                  <li>
                    <button type="button" class="dropdown-item">전체 기간</button>
                  </li>
                  <li>
                    <button type="button" class="dropdown-item">오늘</button>
                  </li>
                  <li>
                    <button type="button" class="dropdown-item">최근 7일</button>
                  </li>
                </ul>
              </div>

              <!-- 전체 우선순위 -->
              <div class="filter-dropdown">
                <button class="filter-btn" type="button">
                  <span>우선순위</span>
                </button>
                <ul class="dropdown-menu">
                  <li>
                    <button type="button" class="dropdown-item">전체 우선순위</button>
                  </li>
                  <li>
                    <button type="button" class="dropdown-item">높음</button>
                  </li>
                  <li>
                    <button type="button" class="dropdown-item">중간</button>
                  </li>
                  <li>
                    <button type="button" class="dropdown-item">낮음</button>
                  </li>
                </ul>
              </div>
              <!-- 오름차순 / 내림차순 -->
              <button class="filter-btn sort" type="button">
                <span>정렬: <span class="sort-highlight" id="sort-text">오름차순</span></span>
              </button>
            </div>
            <!-- + 새 할 일... / 추가 버튼 -->
            <button class="add-btn" type="button">+ 새 할 일</button>
          </section>

          <!-- 현재 선택 - 정렬 -->
          <div class="sort-bar">
            <!-- 정렬: 오름차순 / 내림차순 -->
            <div class="bar-wrap">
              <span class="priority-tag"
                >정렬:
                <span class="highlight" id="btn-priority">오름차순</span>
              </span>
            </div>
            <!-- 기간 -->
            <div class="bar-wrap hidden">
              <span class="period-tag">기간: <span class="highlight">오늘</span></span>
              <button type="button" class="close-filter-btn" aria-label="필터 초기화">X</button>
            </div>
            <!-- 우선순위 -->
            <div class="bar-wrap hidden">
              <span class="sort-tag">우선순위: <span class="highlight">중간</span></span>
              <button type="button" class="close-filter-btn" aria-label="필터 초기화">X</button>
            </div>
            <!-- 데이터 초기화 -->
            <div class="bar-wrap reset-wrap">
              <button class="reset-btn">전체 데이터 초기화</button>
            </div>
          </div>

          <!-- 진행 상황 박스 -->
          <section class="board">
            <!-- 할 일 -->
            <div class="column">
              <div class="column-header to-do">
                <span>할 일</span>
                <span class="count">0</span>
              </div>
              <div class="task-list">
                <p class="to-do-msg">할 일이 없습니다</p>
              </div>
            </div>

            <!-- 진행 중 -->
            <div class="column">
              <div class="column-header ing">
                <span>진행 중</span>
                <span class="count">0</span>
              </div>
              <div class="task-list">
                <p class="ing-msg">진행 중인 일이 없습니다</p>
              </div>
            </div>

            <!-- 완료 -->
            <div class="column">
              <div class="column-header finish">
                <span>완료</span>
                <span class="count">0</span>
              </div>
              <div class="task-list">
                <p class="finish-msg">완료된 일이 없습니다</p>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <!-- 모달 구역 -->
    <!-- 모달 오버레이 -->
    <div class="modal-overlay" id="modalOverlay" aria-hidden="false">
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
        <!-- 상단 -->
        <div class="modal-card-header">
          <span class="modal-card-title" id="modalTitle">새 할 일</span>
        </div>

        <!-- 카드 메인(form) 입력 -->
        <div class="modal-card-form">
          <!-- 제목 -->
          <div class="form-item">
            <label class="form-label">제목*</label>
            <input
              type="text"
              class="form-input"
              id="title"
              name="title"
              placeholder="최대 20자 이내로 제목을 입력하세요..."
              maxlength="20"
              required
            />
          </div>
          <!-- 내용 -->
          <div class="form-item">
            <label class="form-label">내용</label>
            <textarea
              name="content"
              class="form-textarea"
              id="content"
              placeholder="최대 60자 이내로 상세 내용을 입력하세요..."
              maxlength="60"
              required
            ></textarea>
          </div>
        </div>

        <!-- 하단 우선순위 - 상태  -->
        <div class="bottom-priority-situation">
          <!-- 왼족 우선순위 -->
          <div class="bottom-actions-left">
            <span>우선순위</span>
            <!-- 우선순위 input -->
            <div class="bottom-actions-group">
              <input
                type="radio"
                id="priority-high"
                name="bottom-actions"
                value="high"
                required
                hidden
              />
              <label for="priority-high" class="bottom-actions-high">
                <span>높음</span>
              </label>
              <input
                type="radio"
                id="priority-medium"
                name="bottom-actions"
                value="medium"
                hidden
              />
              <label for="priority-medium" class="bottom-actions-medium">
                <span class="medium">중간</span>
              </label>
              <input type="radio" id="priority-low" name="bottom-actions" value="low" hidden />
              <label for="priority-low" class="bottom-actions-low">
                <span class="low">낮음</span>
              </label>
            </div>
          </div>

          <!-- 오른쪽 상태 -->
          <div class="bottom-actions-right">
            <span>상태</span>
            <div class="select-wrap">
              <select name="select-wraps" id="select-wraps" disabled>
                <option value="todo">할 일</option>
                <!-- <option value="doing">진행중</option>
                <option value="done">완료</option> -->
              </select>
              <!-- <span class="arrow">▼</span> -->
            </div>
          </div>
        </div>

        <!-- 취소/완료 버튼 -->
        <div class="form-actions">
          <button type="button" class="btn-cancel">취소</button>
          <button type="submit" class="btn-submit">완료</button>
        </div>
      </div>
    </div>

    <!----------- 할 일 - 수정 모달  ------------>
    <!-- 첫 번째줄 class is-open은 숨겨둔 모달을 보이기 위해 넣은것 후에는 삭제해야 함 -->
    <!-- 첫 번째줄 class modal-overlay 때문에 모달이 중간에 띄워지고 아직 들어갈 코드가 없어서 사라지지 않아서 삭제 한것이니 후에 추가해야 함  -->
    <!-- 임시로 밑에 띄우기 위해 디자인 보일수 있도록 임시 코드 modal.css파일 맨 밑에 넣어뒀으니 후에 고쳐야 함 -->
    <!-- 수정 제목 -->
    <!-- id name for 선언한 것 만 다름 확인 필수 -->
    <div class="is-open" id="modalOverlay-edit" aria-hidden="false">
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle-edit">
        <!-- 상단 -->
        <div class="modal-card-header">
          <span class="modal-card-title" id="modalTitle-edit">할 일 수정</span>
        </div>
        <div class="modal-card-form">
          <!-- 수정 제목 -->
          <!-- id name for 선언한 것 만 다름 확인 필수 -->
          <div class="form-item">
            <label class="form-label">제목*</label>
            <input
              type="text"
              class="form-input"
              id="edit-title"
              name="edit-title"
              placeholder="최대 20자 이내로 제목을 입력하세요..."
              maxlength="20"
              required
            />
          </div>
          <!-- 수정 내용 -->
          <div class="form-item">
            <label class="form-label">내용</label>
            <textarea
              name="edit-content"
              class="form-textarea"
              id="edit-content"
              placeholder="최대 60자 이내로 상세 내용을 입력하세요..."
              maxlength="60"
              required
            ></textarea>
          </div>
        </div>

        <!-- 하단 우선순위 - 상태  -->
        <div class="bottom-priority-situation">
          <!-- 왼족 우선순위 -->
          <div class="bottom-actions-left">
            <span>우선순위</span>
            <!-- 우선순위 input -->
            <div class="bottom-actions-group">
              <input
                type="radio"
                id="edit-priority-high"
                name="edit-bottom-actions"
                value="high"
                required
                hidden
              />
              <label for="edit-priority-high" class="bottom-actions-high">
                <span>높음</span>
              </label>
              <input
                type="radio"
                id="edit-priority-medium"
                name="edit-bottom-actions"
                value="medium"
                hidden
              />
              <label for="edit-priority-medium" class="bottom-actions-medium">
                <span class="medium">중간</span>
              </label>
              <input
                type="radio"
                id="edit-priority-low"
                name="edit-bottom-actions"
                value="low"
                hidden
              />
              <label for="edit-priority-low" class="bottom-actions-low">
                <span class="low">낮음</span>
              </label>
            </div>
          </div>

          <!-- 오른쪽 상태 -->
          <div class="bottom-actions-right">
            <span>상태</span>
            <div class="select-wrap">
              <select name="edit-select-wraps" id="edit-select-wraps" disabled>
                <option value="doing">진행 중</option>
                <!--  <option value="done">완료</option> -->
              </select>
            </div>
          </div>
        </div>

        <!-- 취소/완료 버튼 -->
        <div class="form-actions">
          <button type="button" class="btn-cancel">취소</button>
          <button type="submit" class="btn-submit">완료</button>
        </div>
      </div>
    </div>

    <!----------- 진행 중 - 수정 모달 ----------->
    <!-- 첫 번째줄 class is-open은 숨겨둔 모달을 보이기 위해 넣은것 후에는 삭제해야 함 -->
    <!-- 첫 번째줄 class modal-overlay 때문에 모달이 중간에 띄워지고 아직 들어갈 코드가 없어서 사라지지 않아서 삭제 한것이니 후에 추가해야 함  -->
    <!-- 임시로 밑에 띄우기 위해 디자인 보일수 있도록 임시 코드 modal.css파일 맨 밑에 넣어뒀으니 후에 고쳐야 함 -->
    <!-- 수정 제목 -->
    <!-- id name for 선언한 것 만 다름 확인 필수 -->
    <div class="is-open" id="modalOverlay-ing" aria-hidden="false">
      <div class="modal-card" role="dialog" aria-modal="true" aria-labelledby="modalTitle-ing">
        <!-- 상단 -->
        <div class="modal-card-header">
          <span class="modal-card-title" id="modalTitle-ing">진행 중 수정</span>
        </div>
        <div class="modal-card-form">
          <div class="form-item">
            <label class="form-label">제목*</label>
            <input
              type="text"
              class="form-input"
              id="ing-title"
              name="ing-title"
              placeholder="최대 20자 이내로 제목을 입력하세요..."
              maxlength="20"
              required
            />
          </div>
          <!-- 수정 내용 -->
          <div class="form-item">
            <label class="form-label">내용</label>
            <textarea
              name="ing-content"
              class="form-textarea"
              id="ing-content"
              placeholder="최대 60자 이내로 상세 내용을 입력하세요..."
              maxlength="60"
              required
            ></textarea>
          </div>
        </div>

        <!-- 하단 우선순위 - 상태  -->
        <div class="bottom-priority-situation">
          <!-- 왼족 우선순위 -->
          <div class="bottom-actions-left">
            <span>우선순위</span>
            <!-- 우선순위 input -->
            <div class="bottom-actions-group">
              <input
                type="radio"
                id="ing-priority-high"
                name="ing-bottom-actions"
                value="high"
                required
                hidden
              />
              <label for="ing-priority-high" class="bottom-actions-high">
                <span>높음</span>
              </label>
              <input
                type="radio"
                id="ing-priority-medium"
                name="ing-bottom-actions"
                value="medium"
                hidden
              />
              <label for="ing-priority-medium" class="bottom-actions-medium">
                <span class="medium">중간</span>
              </label>
              <input
                type="radio"
                id="ing-priority-low"
                name="ing-bottom-actions"
                value="low"
                hidden
              />
              <label for="ing-priority-low" class="bottom-actions-low">
                <span class="low">낮음</span>
              </label>
            </div>
          </div>

          <!-- 오른쪽 상태 -->
          <div class="bottom-actions-right">
            <span>상태</span>
            <div class="select-wrap">
              <select name="ing-select-wraps" id="ing-select-wraps">
                <option value="doing">할 일</option>
                <option value="done">완료</option>
              </select>
              <span class="arrow">▼</span>
            </div>
          </div>
        </div>

        <!-- 취소/완료 버튼 -->
        <div class="form-actions">
          <button type="button" class="btn-cancel">취소</button>
          <button type="submit" class="btn-submit">완료</button>
        </div>
      </div>
    </div>

    <!-- JS -->
    <script type="module" src="./js/filter.js"></script>
    <script type="module" src="./js/filterState.js"></script>
    <script src="./js/theme.js"></script>
    <script src="./js/nickname.js"></script>
    <script type="module" src="./js/modal.js"></script>
    <script type="module" src="./js/search.js"></script>
  </body>
</html>
